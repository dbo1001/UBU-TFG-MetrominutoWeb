\capitulo{5}{Aspectos relevantes del desarrollo del proyecto}

En este apartado se van a recoger y explicar los aspectos más importantes del desarrollo del proyecto. Desde las implicaciones de las decisiones que se tomaron, hasta los numerosos y variados problemas a los que hubo que enfrentarse.

\subsection{Elección del proyecto}

El año pasado fui uno de los privilegiados de poder disfrutar de una beca Erasmus, en concreto con destino en la ciudad polaca de Gliwice~\cite{wiki:gliwice}.
Esto me llevó a conocer nuevas culturas pero también a conocer nuevas ciudades, y en la mayoría de ocasiones el tiempo del que disponíamos para recorrerlas era muy breve. Por ello, al ver las posibilidades que ofrecía el resultado final de este TFG me llamó la atención, ya que es una aplicación que de haberla tenido nos habría ahorrado muchos desplazamientos quizá inútiles al recorrer estas ciudades sin una ruta fija.

\subsection{Formación}

Para poder realizar el proyecto se necesitaban unos conocimientos no adquiridos sobre desarrollo web, tanto de la parte de servidor en Flask como la parte del cliente en HTML, CSS y JavaScript. Además de para aprendizaje, los recursos se han usado también como material de consulta durante el desarrollo.

Para la parte del servidor se siguieron los libros y tutoriales:
\begin{itemize}
	\item Flask Web Development~\cite{grinberg2014flask}.
	\item The Flask Mega-Tutorial (2017)~\cite{grinberg-mega}.
\end{itemize}

Para la parte del cliente se utilizaron principalmente los siguientes
materiales:
\begin{itemize}
	\item W3Schools Tutorials~\cite{w3schools}.
\end{itemize}

A medida que se añadían nuevas herramientas al proyecto, su documentación
oficial también ha sido consultada en varias ocasiones, están disponibles en:
\begin{itemize}
	\item Documentación de Flask~\cite{doc:flask}.
	\item Documentación de Bootstrap~\cite{doc:bootstrap}.
	\item Documentación de NetworkX \cite{SciPyProceedings_11}.
\end{itemize}

\subsection{Dibujado de grafos}
El principal objetivo de este proyecto se basa en obtener un grafo final de manera que éste sea fácilmente entendible por todos. Es por ello que a la hora de dibujar dicho grafo se plantean cuestiones y problemas como dónde colocar los textos, a que distancias, cómo orientar esos textos$\dots$

Estos problemas han resultado de gran complejidad en el desarrollo final del proyecto, ya que como mencionaba antes es el resultado final de todo el proyecto. Para soluciona el problema de que los textos no se superpongan, tanto en las líneas o \textit{caminos} como en los puntos o \textit{paradas} he tenido en cuenta dos opciones:
\begin{itemize}
	\item \textbf{Discretización de las líneas:} este método consiste en dividir la parte de la línea no muy lejana al punto medio en varios puntos separados por una distancia $\delta$. De este modo, conociendo las dimensiones del texto que queremos colocar, y siendo la posición conocida, podemos calcular si el texto se superpone a la línea. La elección de puntos entorno al punto medio se debe a que la intención es colocar dicho texto en una poción centrada respecto de los dos puntos a los que hace referencia. En el caso de colocar el texto que referencia a los puntos o \textit{paradas} la división en puntos separados $\delta$ distancia se haría entorno al punto que se quiere referenciar.
	\item \textbf{Superposición de cuadrados:} Este método consiste en calcular primeramente el cuadrado que contiene el texto. Una vez que sabemos esto, podemos construir varios rectángulos en torno al punto donde queremos colocar el texto, tanto a un lado de la línea como al otro. Posteriormente, dividiremos la línea que une los dos puntos para los que queremos colocar el texto en 4 cuadrados partiendo del punto medio. De este modo, en dos de ellos la diagonal sería parte de la línea que une los puntos, mientras que en los otros dos no habría nada. De esto modo, y conociendo la dirección de la línea podemos calcular si, sobre los rectángulos que forman parte de la línea, existe una superposición con alguno de los posibles rectángulos del texto. En el caso del texto que referencia el punto, el rectángulo, o en este caso cuadrado, que se construye sería el que contiene al círculo y se evaluaría el rectángulo correspondiente del que la línea forma parte.
\end{itemize}

